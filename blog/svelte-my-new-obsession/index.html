<!DOCTYPE html><html lang="en" data-astro-cid-gjtny2mx><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Svelte: my new obsession | Pablo Berganza</title><link rel="alternate" hreflang="es" href="https://pablo.berganza.dev/es/blog/svelte-my-new-obsession"><link href="/apple-icon-57x57.png" rel="apple-touch-icon" sizes="57x57"><link href="/apple-icon-60x60.png" rel="apple-touch-icon" sizes="60x60"><link href="/apple-icon-72x72.png" rel="apple-touch-icon" sizes="72x72"><link href="/apple-icon-76x76.png" rel="apple-touch-icon" sizes="76x76"><link href="/apple-icon-114x114.png" rel="apple-touch-icon" sizes="114x114"><link href="/apple-icon-120x120.png" rel="apple-touch-icon" sizes="120x120"><link href="/apple-icon-144x144.png" rel="apple-touch-icon" sizes="144x144"><link href="/apple-icon-152x152.png" rel="apple-touch-icon" sizes="152x152"><link href="/apple-icon-180x180.png" rel="apple-touch-icon" sizes="180x180"><link href="/android-icon-192x192.png" rel="icon" sizes="192x192" type="image/png"><link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"><link href="/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"><link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"><link rel="icon" type="image/png" href="/favicon.ico"><link href="/manifest.json" rel="manifest"><meta content="#E34495" name="msapplication-TileColor"><meta content="ms-icon-144x144.png" name="msapplication-TileImage"><meta content="#E34495" name="theme-color"><script type="module" src="https://unpkg.com/yt-vid@0.0.5/dist/yt-vid/yt-vid.esm.js"></script><script src="/scripts/focus-visible.js" defer></script>
    <script type="application/ld+json">
     {
      "@context": "https://schema.org/",
      "@type": "BlogPosting",
      "headline": "Svelte: my new obsession",
      "alternativeHeadline": "I gave Svelte a try and ended up rewriting my whole site",
      "image": "https://pablo.berganza.dev/assets/blog-pics/2020-04-20.jpg",
      "dateCreated": "2020-04-20",
      "datePublished": "2020-04-20",
      "isFamilyFriendly": "true",
      "publisher": {
        "@type": "Person",
        "name": "Pablo Berganza",
        "url": "https://pablo.berganza.dev/",
        "email": "pablo@berganza.dev",
        "jobTitle": "Software Engineer"
      },
      "author": {
        "@type": "Person",
        "name": "Pablo Berganza",
        "url": "https://pablo.berganza.dev/",
        "email": "pablo@berganza.dev",
        "jobTitle": "Software Engineer"
      }
     }
    </script>
<meta name="author" content="Pablo Berganza"><meta name="description" content="I gave Svelte a try and ended up rewriting my whole site"><meta name="title" content="Svelte: my new obsession"><meta itemprop="name" content="Svelte: my new obsession"><meta itemprop="description" content="I gave Svelte a try and ended up rewriting my whole site"><meta name="twitter:image" content="https://pablo.berganza.dev/assets/blog-pics/2020-04-20.jpg"><meta property="og:image" content="https://pablo.berganza.dev/assets/blog-pics/2020-04-20.jpg"><meta itemprop="image" content="https://pablo.berganza.dev/assets/blog-pics/2020-04-20.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Svelte: my new obsession"><meta name="twitter:description" content="I gave Svelte a try and ended up rewriting my whole site"><meta name="twitter:site" content="Pablo_ABC"><meta name="twitter:creator" content="Pablo_ABC"><meta property="og:title" content="Svelte: my new obsession"><meta property="og:url" content="https://pablo.berganza.dev/blog/svelte-my-new-obsession"><meta property="og:site_name" content="Pablo Berganza"><meta property="og:description" content="I gave Svelte a try and ended up rewriting my whole site"><meta property="og:locale" content="en"><meta property="fb:admins" content="1441268341"><meta property="fb:app_id" content="2097322913669232"><meta property="og:type" content="article"><meta property="article:author" content="Pablo Berganza"><meta property="article:published_time" content="2020-04-20"><meta name="twitter:data1" value="8 min"><meta name="twitter:data2" value="Pablo Berganza"><meta name="twitter:label1" value="Reading time"><meta name="twitter:label2" value="Author"><meta name="color-scheme" content="light dark"><style>.lang-link[data-astro-cid-c5lam3sp]{position:absolute;top:1rem;right:10vw;z-index:1}
</style>
<link rel="stylesheet" href="/_astro/_slug_.43ca8010.css" />
<style>a[data-astro-cid-ivbvd6ux].home-page-link{display:inline-block;font-family:Roboto Slab,serif;font-size:2rem;font-weight:700;padding:.5rem;margin-left:10vw;color:var(--color-heading);text-decoration:none}svg[data-astro-cid-skev4gdg]{height:1.125rem}svg[data-astro-cid-ne6vazln]{height:1.125rem}
</style>
<link rel="stylesheet" href="/_astro/index.bd1a3fbf.css" />
<style>.visuallyhidden.svelte-ob38am{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}div.svelte-ob38am{border-top:2px solid var(--color-primary-1);padding-top:20px}div.svelte-ob38am .commento-submit-button{background:var(--color-secondary-2-3)!important}div.svelte-ob38am .commento-submit-button{transition:color .1s}div.svelte-ob38am .commento-submit-button:hover{background:var(--color-secondary-2-1)!important}div.svelte-ob38am .commento-email-button{color:var(--color-secondary-2-3)!important;height:50px!important}div.svelte-ob38am .commento-login-link{color:var(--color-secondary-2-3)!important}div.svelte-ob38am .commento-login-box{background:#FFF7FB!important}div.svelte-ob38am *{font-family:Overpass,Helvetica Neue,Verdana,Helvetica,Arial,sans-serif!important;color:var(--base-font-color)!important}div.svelte-ob38am .commento-button,div.svelte-ob38am .commento-avatar{color:#fff2f8!important}div.svelte-ob38am .commento-sort-policy-buttons-container .commento-sort-policy-buttons .commento-sort-policy-button-selected{color:var(--color-secondary-2-3)!important}div.svelte-ob38am .commento-option-button{background:#A18795!important}div.svelte-ob38am .commento-upvoted,div.svelte-ob38am .commento-downvoted{background:var(--color-secondary-2-3)!important}div.svelte-ob38am .commento-option-remove{background:#e03131!important}
</style><script type="module" src="/_astro/hoisted.2ba3dd67.js"></script></head><body data-astro-cid-gjtny2mx><main data-astro-cid-gjtny2mx><a class="home-page-link" aria-label="Home page" href="/" data-astro-cid-ivbvd6ux>PB</a><a class="lang-link" href="/es/blog/svelte-my-new-obsession" lang="es" data-astro-cid-c5lam3sp>¿Hablas español?</a><article data-astro-cid-gjtny2mx><header data-astro-cid-gjtny2mx><h1 class="title" data-astro-cid-gjtny2mx>Svelte: my new obsession</h1><p data-astro-cid-gjtny2mx>I gave Svelte a try and ended up rewriting my whole site</p></header><img alt="" class="banner" src="/assets/blog-pics/2020-04-20.jpg" width="800" height="450" data-astro-cid-gjtny2mx><div class="stats" data-astro-cid-gjtny2mx><div class="ttr" data-astro-cid-gjtny2mx><span data-astro-cid-gjtny2mx><svg role="img" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-astro-cid-skev4gdg><title>Reading time:</title><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-skev4gdg></path></svg></span><time datetime="8m" data-astro-cid-gjtny2mx>8 minutes</time></div><div class="created" data-astro-cid-gjtny2mx><span data-astro-cid-gjtny2mx><svg role="img" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-astro-cid-ne6vazln><title>Creation date:</title><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-astro-cid-ne6vazln></path></svg></span><time class="created-date" datetime="2020-04-20" data-astro-cid-gjtny2mx>April 20, 2020</time></div></div><div class="tags" data-astro-cid-gjtny2mx>Tags:<ul data-astro-cid-gjtny2mx><li data-astro-cid-gjtny2mx><a href="/blog/tags/svelte" data-astro-cid-gjtny2mx>svelte</a></li><li data-astro-cid-gjtny2mx><a href="/blog/tags/javascript" data-astro-cid-gjtny2mx>javascript</a></li><li data-astro-cid-gjtny2mx><a href="/blog/tags/webdev" data-astro-cid-gjtny2mx>webdev</a></li></ul></div><section class="content" data-astro-cid-gjtny2mx><details data-astro-cid-obewoz47><summary data-astro-cid-obewoz47><svg aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg><span data-astro-cid-obewoz47>Table of contents</span></summary><ol id="toc" data-astro-cid-obewoz47><li data-astro-cid-obewoz47><a href="#how-does-it-look" data-astro-cid-obewoz47>How does it look?</a></li><li data-astro-cid-obewoz47><a href="#how-to-make-it-reactive" data-astro-cid-obewoz47>How to make it reactive?</a></li><li data-astro-cid-obewoz47><a href="#what-about-styling" data-astro-cid-obewoz47>What about styling?</a></li><li data-astro-cid-obewoz47><a href="#a-more-complete-example" data-astro-cid-obewoz47>A more complete example</a></li><li data-astro-cid-obewoz47><a href="#other-features" data-astro-cid-obewoz47>Other features</a></li><li data-astro-cid-obewoz47><a href="#why-rewrite-the-whole-site" data-astro-cid-obewoz47>Why rewrite the whole site?</a></li><li data-astro-cid-obewoz47><a href="#conclusion" data-astro-cid-obewoz47>Conclusion</a></li></ol></details><p>I admit I am the kind of person who gets immediately obsessed with something if it is new and interesting. That’s how I got into <a href="https://clojure.org">Clojure</a>, how I got into <a href="https://www.rust-lang.org/">Rust</a>, and how I got into the topic I’m writing about today: <a href="https://svelte.dev/">Svelte</a>.</p>
<p>Svelte is not a new language I am learning, as it was with Rust and Clojure. It’s a JavaScript framework for building single page applications (SPA). Like React, Vue or Angular. Its syntax may remind some people of Vue; but it has a major difference with the typical framework. Svelte does not have a runtime and, unlike the rest, it’s not bundled with the rest of your code. Svelte is a compiler. It compiles your components into reactive JavaScript code that modifies the DOM directly. It will produce a small and more performant bundle.</p>
<h2 id="how-does-it-look">How does it look?</h2>
<p>Svelte tries to stay as close as possible to semantically correct HTML. This means that a simple HTML editor would do the trick for editing a Svelte component.</p>
<p>For example, the most minimalist component may look like this:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">p</span><span style="color:#F8F8F2">>Hello world!&#x3C;/</span><span style="color:#FF79C6">p</span><span style="color:#F8F8F2">></span></span></code></pre>
<p>That’s it! That’s a valid Svelte component that the compiler will understand.</p>
<h2 id="how-to-make-it-reactive">How to make it reactive?</h2>
<p>Of course if you were going to write components like that, you would be better off writing plain HTML. The reason you’re using a JavaScript framework is because you need a way to handle reactivity in your web application. So we need a way to add JavaScript to our component. As you would do with plain HTML, JavaScript can be added inside a <code>script</code> tag like this:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">  console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">'</span><span style="color:#F1FA8C">Hello world!</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">)</span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span></code></pre>
<p>In order to add “state” to our component we just need to declare JavaScript variables:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">  let</span><span style="color:#F8F8F2"> message </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">Hello world!</span><span style="color:#E9F284">'</span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span></code></pre>
<p>These variables can be accessed in the template by using curly braces. This is similar to how Vue does it.</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">  let</span><span style="color:#F8F8F2"> messsage </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">Hello world!</span><span style="color:#E9F284">'</span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">p</span><span style="color:#F8F8F2">>{message}&#x3C;/</span><span style="color:#FF79C6">p</span><span style="color:#F8F8F2">></span></span></code></pre>
<p>The <code>message</code> variable is reactive. If it were to change for some reason (e.g. an event), the contents of the <code>p</code> tag would be immediately updated. For example, we can create an input that updates the content of <code>message</code>.</p>
<p>The template of a Svelte component does not need to be a single element, so we can just add an <code>input</code> element right after the <code>p</code> element.</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">  let</span><span style="color:#F8F8F2"> message </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">Hello world!</span><span style="color:#E9F284">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">  function</span><span style="color:#50FA7B"> onInput</span><span style="color:#F8F8F2">(</span><span style="color:#FFB86C;font-style:italic">event</span><span style="color:#F8F8F2">) {</span></span>
<span class="line"><span style="color:#F8F8F2">    message </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> event.target.value</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">p</span><span style="color:#F8F8F2">>{message}&#x3C;/</span><span style="color:#FF79C6">p</span><span style="color:#F8F8F2">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">input</span><span style="color:#50FA7B;font-style:italic"> value</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">{message}</span><span style="color:#50FA7B;font-style:italic"> on:input</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">{onInput}</span><span style="color:#F8F8F2">></span></span></code></pre>
<p>This would end up looking like this:</p>
<iframe title="text-input" src="https://pablo-abc.github.io/pablo.berganza.dev-examples/svelte-basic-text-input/"></iframe>
<p>But this is still too complicated. Svelte provides some “magic” directives in order to make certain operations easier. The <code>bind</code> directive helps with two-way data binding.</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">  let</span><span style="color:#F8F8F2"> message </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">Hello world!</span><span style="color:#E9F284">'</span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">p</span><span style="color:#F8F8F2">>{message}&#x3C;/</span><span style="color:#FF79C6">p</span><span style="color:#F8F8F2">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">input</span><span style="color:#50FA7B;font-style:italic"> bind:value</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">{message}</span><span style="color:#F8F8F2">></span></span></code></pre>
<p>This would result in the same output we saw above!</p>
<blockquote>
<p>Svelte only handles reactivity on assignments. This means that array methods like <code>push</code> and <code>pop</code> won’t trigger updates on the components.</p>
</blockquote>
<p>Svelte also provides <a href="https://handlebarsjs.com/">Handlebars</a> like blocks to handle conditional rendering, asynchronicity and loops inside the templates.</p>
<h2 id="what-about-styling">What about styling?</h2>
<p>Svelte provides a way to provide scoped styles to your components. As expected, this is done via the <code>style</code> HTML tag. Svelte will assign unique classes to each of your component’s elements during compilation. You can use any valid CSS inside the tag, but a rollup/webpack plugin may be used to accept your favorite variant (e.g. SASS).</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">h1</span><span style="color:#F8F8F2">>Hello world!&#x3C;/</span><span style="color:#FF79C6">h1</span><span style="color:#F8F8F2">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">style</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">  h1</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FD">    color</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> purple</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">style</span><span style="color:#F8F8F2">></span></span></code></pre>
<p>On compile time, the <code>h1</code> tag will be assigned a class generated by Svelte and a CSS selector for this class will be added to the <code>h1</code> on the <code>style</code> tag.</p>
<p>If you need to make the selector global you can wrap it in <code>:global(...)</code>. For the example above, if we replaced <code>h1</code> for <code>:global(h1)</code> it would apply the style globally to all <code>h1</code> elements of the project. This can be really useful if your project contains dynamically generated HTML not controlled by Svelte, since Svelte wouldn’t be able to assign unique classes to the elements inside it. Something like <code>div :global(h1)</code> would select all <code>h1</code> elements inside all <code>div</code> elements of the component. This can be used to guarantee that the style remains scoped to the component.</p>
<p>Of course, you can always have a global CSS file to handle common styling for all components.</p>
<h2 id="a-more-complete-example">A more complete example</h2>
<p>Here’s how a simple to-do app would look like in Svelte:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">  let</span><span style="color:#F8F8F2"> todos </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> [], value </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> ''</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">  let</span><span style="color:#F8F8F2"> filter </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">all</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#6272A4">  // The $: tells Svelte to make the statement reactive.</span></span>
<span class="line"><span style="color:#6272A4">  // In this case, the assignment statement to "filtered" will be run</span></span>
<span class="line"><span style="color:#6272A4">  // everytime "todos" changes.</span></span>
<span class="line"><span style="color:#F8F8F2">  $: filtered </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> todos.</span><span style="color:#50FA7B">filter</span><span style="color:#F8F8F2">(</span><span style="color:#FFB86C;font-style:italic">todo</span><span style="color:#FF79C6"> =></span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">    if</span><span style="color:#F8F8F2"> (filter </span><span style="color:#FF79C6">===</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">checked</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">return</span><span style="color:#F8F8F2"> todo.checked</span></span>
<span class="line"><span style="color:#FF79C6">    if</span><span style="color:#F8F8F2"> (filter </span><span style="color:#FF79C6">===</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">unchecked</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">return</span><span style="color:#FF79C6"> !</span><span style="color:#F8F8F2">todo.checked</span></span>
<span class="line"><span style="color:#FF79C6">    return</span><span style="color:#F8F8F2"> todo</span></span>
<span class="line"><span style="color:#F8F8F2">  })</span></span>
<span class="line"><span style="color:#FF79C6">  function</span><span style="color:#50FA7B"> addTodo</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FF79C6">    if</span><span style="color:#F8F8F2"> (</span><span style="color:#FF79C6">!</span><span style="color:#F8F8F2">value) </span><span style="color:#FF79C6">return</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">    todos </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> [</span><span style="color:#FF79C6">...</span><span style="color:#F8F8F2">todos, { value, id</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> Date.</span><span style="color:#50FA7B">now</span><span style="color:#F8F8F2">(), checked</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> false</span><span style="color:#F8F8F2"> }];</span></span>
<span class="line"><span style="color:#F8F8F2">    value </span><span style="color:#FF79C6">=</span><span style="color:#E9F284"> ''</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">script</span><span style="color:#F8F8F2">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">form</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">  &#x3C;</span><span style="color:#FF79C6">label</span><span style="color:#50FA7B;font-style:italic"> for</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">all</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;</span><span style="color:#FF79C6">input</span><span style="color:#50FA7B;font-style:italic"> type</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">radio</span><span style="color:#50FA7B;font-style:italic"> id</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">all</span><span style="color:#50FA7B;font-style:italic"> value</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">all</span><span style="color:#50FA7B;font-style:italic"> bind:group</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">{filter}</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">    All</span></span>
<span class="line"><span style="color:#F8F8F2">  &#x3C;/</span><span style="color:#FF79C6">label</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">  &#x3C;</span><span style="color:#FF79C6">label</span><span style="color:#50FA7B;font-style:italic"> for</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">checked</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;</span><span style="color:#FF79C6">input</span><span style="color:#50FA7B;font-style:italic"> type</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">radio</span><span style="color:#50FA7B;font-style:italic"> id</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">checked</span><span style="color:#50FA7B;font-style:italic"> value</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">checked</span><span style="color:#50FA7B;font-style:italic"> bind:group</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">{filter}</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">    Checked</span></span>
<span class="line"><span style="color:#F8F8F2">  &#x3C;/</span><span style="color:#FF79C6">label</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">  &#x3C;</span><span style="color:#FF79C6">label</span><span style="color:#50FA7B;font-style:italic"> for</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">unchecked</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;</span><span style="color:#FF79C6">input</span><span style="color:#50FA7B;font-style:italic"> type</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">radio</span><span style="color:#50FA7B;font-style:italic"> id</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">unchecked</span><span style="color:#50FA7B;font-style:italic"> value</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">unchecked</span><span style="color:#50FA7B;font-style:italic"> bind:group</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">{filter}</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">    Unchecked</span></span>
<span class="line"><span style="color:#F8F8F2">  &#x3C;/</span><span style="color:#FF79C6">label</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">form</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">form</span><span style="color:#50FA7B;font-style:italic"> on:submit|preventDefault</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">{addTodo}</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">  &#x3C;</span><span style="color:#FF79C6">input</span><span style="color:#50FA7B;font-style:italic"> bind:value</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">  &#x3C;</span><span style="color:#FF79C6">button</span><span style="color:#50FA7B;font-style:italic"> type</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">submit</span><span style="color:#F8F8F2">>Add Todo&#x3C;/</span><span style="color:#FF79C6">button</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">form</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">ul</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">  {#each filtered as todo, i (todo.id)}</span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;</span><span style="color:#FF79C6">li</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">      &#x3C;</span><span style="color:#FF79C6">input</span></span>
<span class="line"><span style="color:#50FA7B;font-style:italic">        id</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">{todo.id}</span></span>
<span class="line"><span style="color:#50FA7B;font-style:italic">        bind:checked</span><span style="color:#FF79C6">=</span><span style="color:#F1FA8C">{todo.checked}</span></span>
<span class="line"><span style="color:#50FA7B;font-style:italic">        type</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">checkbox</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#F8F8F2">        ></span></span>
<span class="line"><span style="color:#F8F8F2">      {todo.value}</span></span>
<span class="line"><span style="color:#F8F8F2">    &#x3C;/</span><span style="color:#FF79C6">li</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#F8F8F2">  {/each}</span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">ul</span><span style="color:#F8F8F2">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;</span><span style="color:#FF79C6">style</span><span style="color:#F8F8F2">></span></span>
<span class="line"><span style="color:#FF79C6">  label</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FD">      display</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> inline-block</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#8BE9FD">      margin</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> 0</span><span style="color:#BD93F9"> 10</span><span style="color:#FF79C6">px</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#FF79C6">  li</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#8BE9FD">      list-style</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> none</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">  }</span></span>
<span class="line"><span style="color:#F8F8F2">&#x3C;/</span><span style="color:#FF79C6">style</span><span style="color:#F8F8F2">></span></span></code></pre>
<iframe title="todo-app" height="315px" src="https://pablo-abc.github.io/pablo.berganza.dev-examples/svelte-basic-todo-app/"></iframe>
<p>This example uses some features I didn’t talk about, but the <a href="https://svelte.dev/tutorial/basics" title="Svelte official tutorial">official tutorial</a> is great if you’re interested in learning more.</p>
<h2 id="other-features">Other features</h2>
<p>Svelte also provides some other nice features, such as:</p>
<ul>
<li>Built-in transitions and animations.</li>
<li>Easily access the document’s head, window and body.</li>
<li>Lifecycles for the components.</li>
<li>Global stores.</li>
<li>Compatibility with server side rendering.</li>
<li>Components can be exported as web components.</li>
</ul>
<h2 id="why-rewrite-the-whole-site">Why rewrite the whole site?</h2>
<p>Previously my site was written using <a href="https://perun.io">Perun</a>. It is a nice static site generator for Clojure that has tons of flexibility, since each step of the generation can be intercepted. But there were certain aspects of the generation that were hard to change or had little documentation. (I am not bashing on Perun, it is a perfectly great tool. I just wanted more freedom).</p>
<p>Perun generates a plain HTML output with no JavaScript. JavaScript needs to be injected manually. Each page is rendered by renderer functions written in Clojure which output HTML. Unless you installed extra packages, there is no built-in support for scoped styling. And, since the generator runs on top of the JVM, the generation of the site was quite slow.</p>
<p>This site is not written with plain Svelte. It is using <a href="https://sapper.svelte.dev">Sapper</a>. Sapper is a framework for Svelte inspired in <a href="https://nextjs.org">Next.JS</a> that allows to build server side rendered web applications. It can also export a static site like Next.JS does. This gives you much more freedom on how the site is generated at the cost of a bit more coding. For example, just as I did with Perun, each post’s content source is a markdown file. But for Sapper I manually had to write the process the reads the markdown files and generates the HTML. This allowed me to use libraries I am much more familiar with, such as <a href="https://github.com/markedjs/marked">Marked</a> for markdown parsing and <a href="https://highlightjs.org/">Highlight.js</a> for code highlighting.</p>
<p>The resulting site works as an SPA and has some features that I couldn’t do previously, some of them:</p>
<ul>
<li>Highlighting for GraphQL code.</li>
<li>Add working examples of code (such as the ones above).</li>
<li>Navigate the whole site without having to do a page reload.</li>
<li>Lazy loading of images.</li>
<li>Embedding external elements to blog posts, like YouTube videos.</li>
</ul>
<p>It also brought some DX improvements such as:</p>
<ul>
<li>Reusable components.</li>
<li>Scoped CSS styling, which helped with some headaches I had previously due to my lack of CSS knowledge.</li>
<li>Much faster generation of the static files.</li>
<li>Easily add more interactive elements to the site. (I might add a search bar for my blog posts at a later time).</li>
<li>It’s easier to follow a more maintainable code structure.</li>
</ul>
<p>One downside to using Svelte is its lack of TypeScript support (although this is being worked on).
Another downside is that Sapper is still in early development, so I would not recommend it for serious projects. Svelte itself is ready for production, though.
It also has a much smaller ecosystem than other mainstream frameworks.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Even taking into account the downsides mentioned before, Svelte/Sapper has been a joy to work with. In under 20 hours of combined work I managed to rewrite my whole site. Svelte should be an excellent choice for performance critical web applications, and it’s syntax is easier to grasp compared to other frameworks. It should definitely not be considered a “toy” framework and I encourage you to add it to your tool set.</p>
<p>As a little extra, here’s the talk that got me excited about Svelte. I recommend everyone with a slight interest on Svelte to watch it.</p>
<div class="yt-vid">
    <yt-vid alt="Rethinking Reactivity - Rich Harris" src="https://www.youtube-nocookie.com/embed/AdNJ3fydeao" allowfullscreen></yt-vid>
</div></section></article><footer data-astro-cid-gjtny2mx><style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var r=(i,c,s)=>{let n=async()=>{await(await i())()},t=new IntersectionObserver(e=>{for(let o of e)if(o.isIntersecting){t.disconnect(),n();break}});for(let e of s.children)t.observe(e)};(self.Astro||(self.Astro={})).visible=r;window.dispatchEvent(new Event("astro:visible"));})();;(()=>{var b=Object.defineProperty;var f=(c,o,i)=>o in c?b(c,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[o]=i;var l=(c,o,i)=>(f(c,typeof o!="symbol"?o+"":o,i),i);var p;{let c={0:t=>m(t),1:t=>i(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(i(t)),5:t=>new Set(i(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[e,r]=t;return e in c?c[e](r):void 0},i=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,r])=>[e,o(r)]));customElements.get("astro-island")||customElements.define("astro-island",(p=class extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var d;if(!this.hydrator||!this.isConnected)return;let e=(d=this.parentElement)==null?void 0:d.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let r=this.querySelectorAll("astro-slot"),a={},h=this.querySelectorAll("template[data-astro-template]");for(let n of h){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("data-astro-template")||"default"]=n.innerHTML,n.remove())}for(let n of r){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("name")||"default"]=n.innerHTML)}let u;try{u=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(n){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),n),n}await this.hydrator(this)(this.Component,u,a,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),r.disconnect(),this.childrenConnectedCallback()},r=new MutationObserver(()=>{var a;((a=this.lastChild)==null?void 0:a.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});r.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),r=this.getAttribute("client");if(Astro[r]===void 0){window.addEventListener(`astro:${r}`,()=>this.start(),{once:!0});return}Astro[r](async()=>{let a=this.getAttribute("renderer-url"),[h,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),a?import(a):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=h[d];else{this.Component=h;for(let n of d.split("."))this.Component=this.Component[n]}return this.hydrator=u,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},l(p,"observedAttributes",["props"]),p))}})();</script><astro-island uid="Z82D5V" component-url="/_astro/ShareButtons.fea06352.js" component-export="default" renderer-url="/_astro/client.ef651e53.js" props="{&quot;host&quot;:[7,&quot;https://pablo.berganza.dev/&quot;],&quot;blog&quot;:[0,{&quot;Content&quot;:[0,null],&quot;compiledContent&quot;:[0,null],&quot;default&quot;:[0,null],&quot;file&quot;:[0,&quot;/home/runner/work/pablo.berganza.dev-astro/pablo.berganza.dev-astro/src/posts/en/svelte-my-new-obsession.md&quot;],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;Svelte: my new obsession&quot;],&quot;description&quot;:[0,&quot;I gave Svelte a try and ended up rewriting my whole site&quot;],&quot;created&quot;:[0,&quot;2020-04-20&quot;],&quot;published&quot;:[0,true],&quot;image&quot;:[0,{&quot;width&quot;:[0,800],&quot;height&quot;:[0,450]}],&quot;tags&quot;:[1,[[0,&quot;svelte&quot;],[0,&quot;javascript&quot;],[0,&quot;webdev&quot;]]]}],&quot;getHeadings&quot;:[0,null],&quot;rawContent&quot;:[0,null],&quot;url&quot;:[0],&quot;lang&quot;:[0,&quot;en&quot;],&quot;slug&quot;:[0,&quot;svelte-my-new-obsession&quot;],&quot;source&quot;:[0,&quot;---\ntitle: &#39;Svelte: my new obsession&#39;\ndescription: I gave Svelte a try and ended up rewriting my whole site\ncreated: &#39;2020-04-20&#39;\npublished: true\nimage:\n  width: 800\n  height: 450\ntags:\n    - svelte\n    - javascript\n    - webdev\n---\n\nI admit I am the kind of person who gets immediately obsessed with something if it is new and interesting. That&#39;s how I got into [Clojure](https://clojure.org), how I got into [Rust](https://www.rust-lang.org/), and how I got into the topic I&#39;m writing about today: [Svelte](https://svelte.dev/).\n\nSvelte is not a new language I am learning, as it was with Rust and Clojure. It&#39;s a JavaScript framework for building single page applications (SPA). Like React, Vue or Angular. Its syntax may remind some people of Vue; but it has a major difference with the typical framework. Svelte does not have a runtime and, unlike the rest, it&#39;s not bundled with the rest of your code. Svelte is a compiler. It compiles your components into reactive JavaScript code that modifies the DOM directly. It will produce a small and more performant bundle.\n\n## How does it look?\n\nSvelte tries to stay as close as possible to semantically correct HTML. This means that a simple HTML editor would do the trick for editing a Svelte component.\n\nFor example, the most minimalist component may look like this:\n\n```html\n&lt;p&gt;Hello world!&lt;/p&gt;\n```\n\nThat&#39;s it! That&#39;s a valid Svelte component that the compiler will understand.\n\n## How to make it reactive?\n\nOf course if you were going to write components like that, you would be better off writing plain HTML. The reason you&#39;re using a JavaScript framework is because you need a way to handle reactivity in your web application. So we need a way to add JavaScript to our component. As you would do with plain HTML, JavaScript can be added inside a `script` tag like this:\n\n```html\n&lt;script&gt;\n  console.log(&#39;Hello world!&#39;)\n&lt;/script&gt;\n```\n\nIn order to add “state” to our component we just need to declare JavaScript variables:\n\n```html\n&lt;script&gt;\n  let message = &#39;Hello world!&#39;\n&lt;/script&gt;\n```\n\nThese variables can be accessed in the template by using curly braces. This is similar to how Vue does it.\n\n```html\n&lt;script&gt;\n  let messsage = &#39;Hello world!&#39;\n&lt;/script&gt;\n\n&lt;p&gt;{message}&lt;/p&gt;\n```\n\nThe `message` variable is reactive. If it were to change for some reason (e.g. an event), the contents of the `p` tag would be immediately updated. For example, we can create an input that updates the content of `message`.\n\nThe template of a Svelte component does not need to be a single element, so we can just add an `input` element right after the `p` element.\n\n```html\n&lt;script&gt;\n  let message = &#39;Hello world!&#39;\n\n  function onInput(event) {\n    message = event.target.value\n  }\n&lt;/script&gt;\n\n&lt;p&gt;{message}&lt;/p&gt;\n\n&lt;input value={message} on:input={onInput}&gt;\n```\n\nThis would end up looking like this:\n\n&lt;iframe title=\&quot;text-input\&quot; src=\&quot;https://pablo-abc.github.io/pablo.berganza.dev-examples/svelte-basic-text-input/\&quot;&gt;&lt;/iframe&gt;\n\nBut this is still too complicated. Svelte provides some “magic” directives in order to make certain operations easier. The `bind` directive helps with two-way data binding.\n\n```html\n&lt;script&gt;\n  let message = &#39;Hello world!&#39;\n&lt;/script&gt;\n\n&lt;p&gt;{message}&lt;/p&gt;\n\n&lt;input bind:value={message}&gt;\n```\n\nThis would result in the same output we saw above!\n\n&gt; Svelte only handles reactivity on assignments. This means that array methods like `push` and `pop` won&#39;t trigger updates on the components.\n\nSvelte also provides [Handlebars](https://handlebarsjs.com/) like blocks to handle conditional rendering, asynchronicity and loops inside the templates.\n\n## What about styling?\n\nSvelte provides a way to provide scoped styles to your components. As expected, this is done via the `style` HTML tag. Svelte will assign unique classes to each of your component&#39;s elements during compilation. You can use any valid CSS inside the tag, but a rollup/webpack plugin may be used to accept your favorite variant (e.g. SASS).\n\n```html\n&lt;h1&gt;Hello world!&lt;/h1&gt;\n\n&lt;style&gt;\n  h1 {\n    color: purple;\n  }\n&lt;/style&gt;\n```\n\nOn compile time, the `h1` tag will be assigned a class generated by Svelte and a CSS selector for this class will be added to the `h1` on the `style` tag.\n\nIf you need to make the selector global you can wrap it in `:global(...)`. For the example above, if we replaced `h1` for `:global(h1)` it would apply the style globally to all `h1` elements of the project. This can be really useful if your project contains dynamically generated HTML not controlled by Svelte, since Svelte wouldn&#39;t be able to assign unique classes to the elements inside it. Something like `div :global(h1)` would select all `h1` elements inside all `div` elements of the component. This can be used to guarantee that the style remains scoped to the component.\n\nOf course, you can always have a global CSS file to handle common styling for all components.\n\n## A more complete example\n\nHere&#39;s how a simple to-do app would look like in Svelte:\n\n```html\n&lt;script&gt;\n  let todos = [], value = &#39;&#39;;\n  let filter = &#39;all&#39;;\n  // The $: tells Svelte to make the statement reactive.\n  // In this case, the assignment statement to \&quot;filtered\&quot; will be run\n  // everytime \&quot;todos\&quot; changes.\n  $: filtered = todos.filter(todo =&gt; {\n    if (filter === &#39;checked&#39;) return todo.checked\n    if (filter === &#39;unchecked&#39;) return !todo.checked\n    return todo\n  })\n  function addTodo() {\n    if (!value) return;\n    todos = [...todos, { value, id: Date.now(), checked: false }];\n    value = &#39;&#39;;\n  }\n&lt;/script&gt;\n\n&lt;form&gt;\n  &lt;label for=all&gt;\n    &lt;input type=radio id=all value=all bind:group={filter}&gt;\n    All\n  &lt;/label&gt;\n  &lt;label for=checked&gt;\n    &lt;input type=radio id=checked value=checked bind:group={filter}&gt;\n    Checked\n  &lt;/label&gt;\n  &lt;label for=unchecked&gt;\n    &lt;input type=radio id=unchecked value=unchecked bind:group={filter}&gt;\n    Unchecked\n  &lt;/label&gt;\n&lt;/form&gt;\n&lt;form on:submit|preventDefault={addTodo}&gt;\n  &lt;input bind:value&gt;\n  &lt;button type=submit&gt;Add Todo&lt;/button&gt;\n&lt;/form&gt;\n&lt;ul&gt;\n  {#each filtered as todo, i (todo.id)}\n    &lt;li&gt;\n      &lt;input\n        id={todo.id}\n        bind:checked={todo.checked}\n        type=\&quot;checkbox\&quot;\n        &gt;\n      {todo.value}\n    &lt;/li&gt;\n  {/each}\n&lt;/ul&gt;\n\n&lt;style&gt;\n  label {\n      display: inline-block;\n      margin: 0 10px;\n  }\n  li {\n      list-style: none;\n  }\n&lt;/style&gt;\n```\n\n&lt;iframe title=\&quot;todo-app\&quot; height=\&quot;315px\&quot; src=\&quot;https://pablo-abc.github.io/pablo.berganza.dev-examples/svelte-basic-todo-app/\&quot;&gt;&lt;/iframe&gt;\n\nThis example uses some features I didn&#39;t talk about, but the [official tutorial](https://svelte.dev/tutorial/basics \&quot;Svelte official tutorial\&quot;) is great if you&#39;re interested in learning more.\n\n## Other features\n\nSvelte also provides some other nice features, such as:\n\n* Built-in transitions and animations.\n* Easily access the document&#39;s head, window and body.\n* Lifecycles for the components.\n* Global stores.\n* Compatibility with server side rendering.\n* Components can be exported as web components.\n\n## Why rewrite the whole site?\n\nPreviously my site was written using [Perun](https://perun.io). It is a nice static site generator for Clojure that has tons of flexibility, since each step of the generation can be intercepted. But there were certain aspects of the generation that were hard to change or had little documentation. (I am not bashing on Perun, it is a perfectly great tool. I just wanted more freedom).\n\nPerun generates a plain HTML output with no JavaScript. JavaScript needs to be injected manually. Each page is rendered by renderer functions written in Clojure which output HTML. Unless you installed extra packages, there is no built-in support for scoped styling. And, since the generator runs on top of the JVM, the generation of the site was quite slow.\n\nThis site is not written with plain Svelte. It is using [Sapper](https://sapper.svelte.dev). Sapper is a framework for Svelte inspired in [Next.JS](https://nextjs.org) that allows to build server side rendered web applications. It can also export a static site like Next.JS does. This gives you much more freedom on how the site is generated at the cost of a bit more coding. For example, just as I did with Perun, each post&#39;s content source is a markdown file. But for Sapper I manually had to write the process the reads the markdown files and generates the HTML. This allowed me to use libraries I am much more familiar with, such as [Marked](https://github.com/markedjs/marked) for markdown parsing and [Highlight.js](https://highlightjs.org/) for code highlighting.\n\nThe resulting site works as an SPA and has some features that I couldn&#39;t do previously, some of them:\n\n* Highlighting for GraphQL code.\n* Add working examples of code (such as the ones above).\n* Navigate the whole site without having to do a page reload.\n* Lazy loading of images.\n* Embedding external elements to blog posts, like YouTube videos.\n\nIt also brought some DX improvements such as:\n\n* Reusable components.\n* Scoped CSS styling, which helped with some headaches I had previously due to my lack of CSS knowledge.\n* Much faster generation of the static files.\n* Easily add more interactive elements to the site. (I might add a search bar for my blog posts at a later time).\n* It&#39;s easier to follow a more maintainable code structure.\n\nOne downside to using Svelte is its lack of TypeScript support (although this is being worked on).\nAnother downside is that Sapper is still in early development, so I would not recommend it for serious projects. Svelte itself is ready for production, though.\nIt also has a much smaller ecosystem than other mainstream frameworks.\n\n## Conclusion\n\nEven taking into account the downsides mentioned before, Svelte/Sapper has been a joy to work with. In under 20 hours of combined work I managed to rewrite my whole site. Svelte should be an excellent choice for performance critical web applications, and it&#39;s syntax is easier to grasp compared to other frameworks. It should definitely not be considered a “toy” framework and I encourage you to add it to your tool set.\n\nAs a little extra, here&#39;s the talk that got me excited about Svelte. I recommend everyone with a slight interest on Svelte to watch it.\n\n&lt;div class=\&quot;yt-vid\&quot;&gt;\n    &lt;yt-vid alt=\&quot;Rethinking Reactivity - Rich Harris\&quot; src=\&quot;https://www.youtube-nocookie.com/embed/AdNJ3fydeao\&quot; allowfullscreen&gt;&lt;/yt-vid&gt;\n&lt;/div&gt;\n&quot;]}],&quot;lang&quot;:[0,&quot;en&quot;],&quot;data-astro-cid-gjtny2mx&quot;:[0,true]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ShareButtons&quot;,&quot;value&quot;:true}" await-children=""><ul class="share-buttons svelte-1vdj7et"><li class="svelte-1vdj7et">Share this:</li> <li class="svelte-1vdj7et"><a href="https://www.facebook.com/sharer/sharer.php?u=https://pablo.berganza.dev/svelte-my-new-obsession&amp;quote=I gave Svelte a try and ended up rewriting my whole site" target="_blank" title="Share on Facebook" rel="noopener noreferrer"><svg aria-hidden="true" title="" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"></path></svg> <span class="sr-only svelte-12xlsax">Share on Facebook</span> </a></li> <li class="svelte-1vdj7et"><a href="https://twitter.com/intent/tweet?source=https://pablo.berganza.dev/svelte-my-new-obsession&amp;text=I gave Svelte a try and ended up rewriting my whole site:%20https://pablo.berganza.dev/svelte-my-new-obsession&amp;via=Pablo_ABC" target="_blank" title="Tweet" rel="noopener noreferrer"><svg aria-hidden="true" title="" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM351.3 199.3v0c0 86.7-66 186.6-186.6 186.6c-37.2 0-71.7-10.8-100.7-29.4c5.3 .6 10.4 .8 15.8 .8c30.7 0 58.9-10.4 81.4-28c-28.8-.6-53-19.5-61.3-45.5c10.1 1.5 19.2 1.5 29.6-1.2c-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3c-9-6-16.4-14.1-21.5-23.6s-7.8-20.2-7.7-31c0-12.2 3.2-23.4 8.9-33.1c32.3 39.8 80.8 65.8 135.2 68.6c-9.3-44.5 24-80.6 64-80.6c18.9 0 35.9 7.9 47.9 20.7c14.8-2.8 29-8.3 41.6-15.8c-4.9 15.2-15.2 28-28.8 36.1c13.2-1.4 26-5.1 37.8-10.2c-8.9 13.1-20.1 24.7-32.9 34c.2 2.8 .2 5.7 .2 8.5z"></path></svg> <span class="sr-only svelte-12xlsax">Tweet</span> </a></li> <li class="svelte-1vdj7et"><a href="https://getpocket.com/save?url=https://pablo.berganza.dev/svelte-my-new-obsession&amp;title=Svelte: my new obsession" target="_blank" title="Add to Pocket" rel="noopener noreferrer"><svg aria-hidden="true" title="" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M407.6 64h-367C18.5 64 0 82.5 0 104.6v135.2C0 364.5 99.7 464 224.2 464c124 0 223.8-99.5 223.8-224.2V104.6c0-22.4-17.7-40.6-40.4-40.6zm-162 268.5c-12.4 11.8-31.4 11.1-42.4 0C89.5 223.6 88.3 227.4 88.3 209.3c0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3 16.9 0 30.7 13.8 30.7 30.7 0 17.8-2.9 15.7-114.8 123.2z"></path></svg> <span class="sr-only svelte-12xlsax">Add to Pocket</span> </a></li> <li class="svelte-1vdj7et"><a href="http://www.reddit.com/submit?url=https://pablo.berganza.dev/svelte-my-new-obsession&amp;title=Svelte: my new obsession" target="_blank" title="Submit to Reddit" rel="noopener noreferrer"><svg aria-hidden="true" title="" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M283.2 345.5c2.7 2.7 2.7 6.8 0 9.2-24.5 24.5-93.8 24.6-118.4 0-2.7-2.4-2.7-6.5 0-9.2 2.4-2.4 6.5-2.4 8.9 0 18.7 19.2 81 19.6 100.5 0 2.4-2.3 6.6-2.3 9 0zm-91.3-53.8c0-14.9-11.9-26.8-26.5-26.8-14.9 0-26.8 11.9-26.8 26.8 0 14.6 11.9 26.5 26.8 26.5 14.6 0 26.5-11.9 26.5-26.5zm90.7-26.8c-14.6 0-26.5 11.9-26.5 26.8 0 14.6 11.9 26.5 26.5 26.5 14.9 0 26.8-11.9 26.8-26.5 0-14.9-11.9-26.8-26.8-26.8zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-99.7 140.6c-10.1 0-19 4.2-25.6 10.7-24.1-16.7-56.5-27.4-92.5-28.6l18.7-84.2 59.5 13.4c0 14.6 11.9 26.5 26.5 26.5 14.9 0 26.8-12.2 26.8-26.8 0-14.6-11.9-26.8-26.8-26.8-10.4 0-19.3 6.2-23.8 14.9l-65.7-14.6c-3.3-.9-6.5 1.5-7.4 4.8l-20.5 92.8c-35.7 1.5-67.8 12.2-91.9 28.9-6.5-6.8-15.8-11-25.9-11-37.5 0-49.8 50.4-15.5 67.5-1.2 5.4-1.8 11-1.8 16.7 0 56.5 63.7 102.3 141.9 102.3 78.5 0 142.2-45.8 142.2-102.3 0-5.7-.6-11.6-2.1-17 33.6-17.2 21.2-67.2-16.1-67.2z"></path></svg> <span class="sr-only svelte-12xlsax">Submit to Reddit</span> </a></li> <li class="svelte-1vdj7et"><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://pablo.berganza.dev/svelte-my-new-obsession&amp;title=Svelte: my new obsession&amp;summary=I gave Svelte a try and ended up rewriting my whole site&amp;source=https://pablo.berganza.dev/svelte-my-new-obsession" target="_blank" title="Share on LinkedIn" rel="noopener noreferrer"><svg aria-hidden="true" title="" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg> <span class="sr-only svelte-12xlsax">Share on LinkedIn</span> </a></li> <li class="svelte-1vdj7et"><share-on-fedi placement="top" aria-label="Share on Mastodon" class="svelte-1vdj7et"><svg aria-hidden="true" title="Share on Mastodon" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></path></svg></share-on-fedi></li> </ul><!--astro:end--></astro-island><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><astro-island uid="1QRaJY" component-url="/_astro/Commento.1bd74485.js" component-export="default" renderer-url="/_astro/client.ef651e53.js" props="{&quot;lang&quot;:[0,&quot;en&quot;],&quot;src&quot;:[0,&quot;https://cdn.commento.io/js/commento.js&quot;],&quot;data-astro-cid-gjtny2mx&quot;:[0,true]}" ssr="" client="only" opts="{&quot;name&quot;:&quot;Commento&quot;,&quot;value&quot;:true}"></astro-island></footer></main></body></html>