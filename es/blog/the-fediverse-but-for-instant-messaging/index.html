<!DOCTYPE html><html lang="es" data-astro-cid-gjtny2mx> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>El Fediverso, pero para mensajería instantánea | Pablo Berganza</title><link rel="alternate" hreflang="en" href="https://pablo.berganza.dev/blog/the-fediverse-but-for-instant-messaging"><link href="/apple-icon-57x57.png" rel="apple-touch-icon" sizes="57x57"><link href="/apple-icon-60x60.png" rel="apple-touch-icon" sizes="60x60"><link href="/apple-icon-72x72.png" rel="apple-touch-icon" sizes="72x72"><link href="/apple-icon-76x76.png" rel="apple-touch-icon" sizes="76x76"><link href="/apple-icon-114x114.png" rel="apple-touch-icon" sizes="114x114"><link href="/apple-icon-120x120.png" rel="apple-touch-icon" sizes="120x120"><link href="/apple-icon-144x144.png" rel="apple-touch-icon" sizes="144x144"><link href="/apple-icon-152x152.png" rel="apple-touch-icon" sizes="152x152"><link href="/apple-icon-180x180.png" rel="apple-touch-icon" sizes="180x180"><link href="/android-icon-192x192.png" rel="icon" sizes="192x192" type="image/png"><link href="/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"><link href="/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png"><link href="/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"><link rel="icon" type="image/png" href="/favicon.ico"><link href="/manifest.json" rel="manifest"><meta content="#E34495" name="msapplication-TileColor"><meta content="ms-icon-144x144.png" name="msapplication-TileImage"><meta content="#E34495" name="theme-color"><script type="module" src="https://unpkg.com/yt-vid@0.0.5/dist/yt-vid/yt-vid.esm.js"></script><script src="/scripts/focus-visible.js" defer></script>
    <script type="application/ld+json">
     {
      "@context": "https://schema.org/",
      "@type": "BlogPosting",
      "headline": "El Fediverso, pero para mensajería instantánea",
      "alternativeHeadline": "Matrix, XMPP y Snikket",
      "image": "https://pablo.berganza.dev/assets/blog-pics/2024-02-06.jpg",
      "dateCreated": "2024-02-06",
      "datePublished": "2024-02-06",
      "isFamilyFriendly": "true",
      "publisher": {
        "@type": "Person",
        "name": "Pablo Berganza",
        "url": "https://pablo.berganza.dev/",
        "email": "pablo@berganza.dev",
        "jobTitle": "Software Engineer"
      },
      "author": {
        "@type": "Person",
        "name": "Pablo Berganza",
        "url": "https://pablo.berganza.dev/",
        "email": "pablo@berganza.dev",
        "jobTitle": "Software Engineer"
      }
     }
    </script>
<meta name="author" content="Pablo Berganza"><meta name="description" content="Matrix, XMPP y Snikket"><meta name="title" content="El Fediverso, pero para mensajería instantánea"><meta itemprop="name" content="El Fediverso, pero para mensajería instantánea"><meta itemprop="description" content="Matrix, XMPP y Snikket"><meta name="twitter:image" content="https://pablo.berganza.dev/assets/blog-pics/2024-02-06.jpg"><meta property="og:image" content="https://pablo.berganza.dev/assets/blog-pics/2024-02-06.jpg"><meta itemprop="image" content="https://pablo.berganza.dev/assets/blog-pics/2024-02-06.jpg"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="El Fediverso, pero para mensajería instantánea"><meta name="twitter:description" content="Matrix, XMPP y Snikket"><meta name="twitter:site" content="Pablo_ABC"><meta name="twitter:creator" content="Pablo_ABC"><meta property="og:title" content="El Fediverso, pero para mensajería instantánea"><meta property="og:url" content="https://pablo.berganza.dev/es/blog/the-fediverse-but-for-instant-messaging"><meta property="og:site_name" content="Pablo Berganza"><meta property="og:description" content="Matrix, XMPP y Snikket"><meta property="og:locale" content="es"><meta property="fb:admins" content="1441268341"><meta property="fb:app_id" content="2097322913669232"><meta property="og:type" content="article"><meta property="article:author" content="Pablo Berganza"><meta property="article:published_time" content="2024-02-06"><meta name="twitter:data1" value="6 min"><meta name="twitter:data2" value="Pablo Berganza"><meta name="twitter:label1" value="Tiempo de lectura"><meta name="twitter:label2" value="Autor"><meta name="color-scheme" content="light dark"><style>.lang-link[data-astro-cid-c5lam3sp]{position:absolute;top:1rem;right:10vw;z-index:1}
</style>
<link rel="stylesheet" href="/_astro/_slug_.fwJCB4vp.css" />
<style>a[data-astro-cid-ivbvd6ux].home-page-link{display:inline-block;font-family:Roboto Slab,serif;font-size:2rem;font-weight:700;padding:.5rem;margin-left:10vw;color:var(--color-heading);text-decoration:none}svg[data-astro-cid-skev4gdg]{height:1.125rem}svg[data-astro-cid-ne6vazln]{height:1.125rem}
</style>
<link rel="stylesheet" href="/_astro/index.1c9VM4IX.css" />
<style>.visuallyhidden.svelte-57m7wt{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}div.svelte-57m7wt{border-top:2px solid var(--color-primary-1);padding-top:20px}div.svelte-57m7wt .commento-submit-button{background:var(--color-secondary-2-3)!important}div.svelte-57m7wt .commento-submit-button{transition:color .1s}div.svelte-57m7wt .commento-submit-button:hover{background:var(--color-secondary-2-1)!important}div.svelte-57m7wt .commento-email-button{color:var(--color-secondary-2-3)!important;height:50px!important}div.svelte-57m7wt .commento-login-link{color:var(--color-secondary-2-3)!important}div.svelte-57m7wt .commento-login-box{background:#fff7fb!important}div.svelte-57m7wt *{font-family:Overpass,Helvetica Neue,Verdana,Helvetica,Arial,sans-serif!important;color:var(--base-font-color)!important}div.svelte-57m7wt .commento-button,div.svelte-57m7wt .commento-avatar{color:#fff2f8!important}div.svelte-57m7wt .commento-sort-policy-buttons-container .commento-sort-policy-buttons .commento-sort-policy-button-selected{color:var(--color-secondary-2-3)!important}div.svelte-57m7wt .commento-option-button{background:#a18795!important}div.svelte-57m7wt .commento-upvoted,div.svelte-57m7wt .commento-downvoted{background:var(--color-secondary-2-3)!important}div.svelte-57m7wt .commento-option-remove{background:#e03131!important}
</style><script type="module" src="/_astro/hoisted.V06sJV5_.js"></script></head> <body data-astro-cid-gjtny2mx> <main data-astro-cid-gjtny2mx> <a class="home-page-link" aria-label="Home page" href="/es" data-astro-cid-ivbvd6ux>PB</a>  <a class="lang-link" href="/blog/the-fediverse-but-for-instant-messaging" lang="en" data-astro-cid-c5lam3sp> Speak English? </a>  <article data-astro-cid-gjtny2mx> <header data-astro-cid-gjtny2mx> <h1 class="title" data-astro-cid-gjtny2mx>El Fediverso, pero para mensajería instantánea</h1> <p data-astro-cid-gjtny2mx>Matrix, XMPP y Snikket</p> </header> <img alt="" class="banner" src="/assets/blog-pics/2024-02-06.jpg" width="3024" height="1701" data-astro-cid-gjtny2mx> <div class="stats" data-astro-cid-gjtny2mx> <div class="ttr" data-astro-cid-gjtny2mx> <span data-astro-cid-gjtny2mx> <svg role="img" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-astro-cid-skev4gdg> <title>Tiempo de lectura:</title> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-astro-cid-skev4gdg></path> </svg>  </span> <time datetime="6m" data-astro-cid-gjtny2mx> 6  minutos </time> </div> <div class="created" data-astro-cid-gjtny2mx> <span data-astro-cid-gjtny2mx> <svg role="img" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" data-astro-cid-ne6vazln> <title>Fecha de creación:</title> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-astro-cid-ne6vazln></path> </svg>  </span> <time class="created-date" datetime="2024-02-06" data-astro-cid-gjtny2mx>6 de febrero de 2024 </time> </div> </div> <div class="tags" data-astro-cid-gjtny2mx> Etiquetas: <ul data-astro-cid-gjtny2mx> <li data-astro-cid-gjtny2mx> <a href="/es/blog/tags/fediverse" data-astro-cid-gjtny2mx> fediverse </a> </li><li data-astro-cid-gjtny2mx> <a href="/es/blog/tags/matrix" data-astro-cid-gjtny2mx> matrix </a> </li><li data-astro-cid-gjtny2mx> <a href="/es/blog/tags/selfhosting" data-astro-cid-gjtny2mx> selfhosting </a> </li><li data-astro-cid-gjtny2mx> <a href="/es/blog/tags/xmpp" data-astro-cid-gjtny2mx> xmpp </a> </li> </ul> </div>  <section class="content" data-astro-cid-gjtny2mx> <details data-astro-cid-obewoz47> <summary data-astro-cid-obewoz47> <svg aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> <span data-astro-cid-obewoz47>Índice</span> </summary> <ol id="toc" data-astro-cid-obewoz47> <li data-astro-cid-obewoz47> <a href="#matrix" data-astro-cid-obewoz47>Matrix</a>  </li><li data-astro-cid-obewoz47> <a href="#xmpp" data-astro-cid-obewoz47>XMPP</a> <ul data-astro-cid-obewoz47> <li data-astro-cid-obewoz47> <a href="#snikket" data-astro-cid-obewoz47>Snikket</a> </li> </ul> </li><li data-astro-cid-obewoz47> <a href="#conclusión" data-astro-cid-obewoz47>Conclusión</a>  </li> </ol> </details>  <p>Últimamente he sentido un poco de felicidad al ver como, por lo menos parte del mundo, está tomando interés en las tecnologías federadas. Y al ver como la cantidad de personas uniéndose a éstos servicios sigue creciendo. El Fediverso, principalmente por Mastodon, tiene 10 millones de usuarios y 1 millón de usuarios activos cada mes, según <a href="https://fedidb.org">FediDB</a>, al momento de escribir este artículo.</p>
<p>Mi cuenta en la instancia que estoy manteniendo, <a href="https://sivar.cafe/@pablo">@pablo@sivar.cafe</a>, se está convirtiendo rápidamente en mi plataforma principal para microblogging. Y he conocido personas increíbles gracias a ello!</p>
<p>Pero microblogging no es el único uso para el que existen plataformas federadas. E-mail siento el servicio más grande para comunicación uno-a-uno y uno-a-muchos.</p>
<p>Para comunicación más instantánea, algunas alternativas a Mastodon, como  <a href="https://misskey-hub.net/en/">Misskey</a>  y sus forks, implementaron funciones para mensajería instantánea. Te permitía hablar con gente dentro o fuera de tu servidor. Pero en este caso siempre sentí que la funcionalidad agregaba complejidad y peso para quienes mantienen el proyecto, ya sea alojando una instancia, o manteniendo el código del proyecto en si. Versiones más recientes de Misskey removieron la funcionalidad de chat, aunque no estoy seguro del motivo. Y forks más recientes de Misskey tampoco ofrecen esta funcionalidad, incluyendo el fork más activamente mantenido por ahora:  <a href="https://joinsharkey.org">Sharkey</a>.</p>
<p>Entonces, ¿hay alguna otra alternative para mensajería instantánea que puedas alojar tu mismo y sea federada?</p>
<h2 id="matrix">Matrix</h2>
<p><a href="https://matrix.org/">Matrix</a> es un protocolo abierto que describe una forma para tener comunicación segura e instantánea de forma descentralizada. La instancia principal siendo matrix.org, la cual también tiene la mayor cantidad de usuarios.</p>
<p>Matrix provee a sus usuarios con:</p>
<ul>
<li>Cifrado de extremo a extremo (E2EE) en chats 1-a-1 y grupos.</li>
<li>Grupos/cuartos públicos y privados.</li>
<li>“Espacios” públicos y privado, siendo estos una forma de organizar varios cuartos dentro de una comunidad.
Entre otras cosas que probablemente desconozco todavía.</li>
</ul>
<p>El server de referencia es <a href="https://github.com/element-hq/synapse">Synapse</a>. Está escrito en Python, lo cual ha traído críticas debido a consumir muchos recursos. Pero es el único servidor que implementa toda la especificación de Matrix. <a href="https://github.com/matrix-org/dendrite">Dendrite</a> es otra implementación, descrito como una “segunda generación” para un servidor de Matrix, escrito en Go. El objetivo era resolver el problema de consumo de recursos. Pero entiendo que el esfuerzo de los desarrolladoras ha cambiado a enfocarse en optimizar Synapse y dejando a Dendrite para casos de uso más específicos. (Si mi suposición es incorrecta, ¡apreciaría una correción!).</p>
<p>Aunque es un protocolo abierto, las implementaciones que describí son posesión de Element: una organización con ánimo de lucro. Y <a href="https://element.io/blog/element-to-adopt-agplv3/">han realizado cambios para llegar a ser rentables</a>.</p>
<p>He estado experimentando con una implementación de terceros llamada <a href="https://conduit.rs">Conduit</a>. Está escrita en Rust y es increíblemente sencilla de alojar en tu servidor (es un solo binario). Las únicas quejas que he tenido son:</p>
<ul>
<li>Los registros pueden ser solo completamente activados, completamente activados, o necesitando un token para registrarse que es configurado al iniciar el servidor. No existen tokens de un solo uso o links para invitar usuarios.</li>
<li>No soporta SSO (aunque hay un PR abierto con una implementación). Esto es algo que yo quería para darle acceso exclusivo a los usuarios de mi <a href="https://sivar.cafe">instancia en Mastodon</a>.</li>
<li>Usa RocksDB por defecto, para el que no tengo experiencia en absoluta. Y entiendo que no es tan manipulable e inspeccionadle como una base de datos SQL. Aunque, ¿entiendo que ayuda mucho a que uso pocos recursos?</li>
</ul>
<p>De todos modos tengo esperanzas en Conduit y mantendré una instancia pequeña por ahora!</p>
<h2 id="xmpp">XMPP</h2>
<p>Mientras leía sobre Matrix, encontré personas hablando acerca de XMPP como una alternativa para una plataforma federada de mensajería instantánea. Personalmente, al principio lo tomé un poco de broma. XMPP era es protocolo viejo del que habían escuchado cuando era un estudiante. Recuerdo usar <a href="https://pidgin.im/">Pidgin</a> para configurar las múltiples cuentas de mensajería que tenía en aquel entonces.</p>
<p>Pero claro. XMPP fue, probablemente, <em>el</em> protocolo original de mensajería instantánea federada. Y, según entiendo, todavía usado por los jugadores más grandes (aun que de una forma privada). Aunque definitivamente la comunidad es mucho más pequeña, y hay mucho menos Hype, que en Matrix; la comunidad que existe es muy apasionada y hay un esfuerzo continuo para hacer que el protocolo XMPP sea más y más accesible.</p>
<p>Esta <a href="https://www.youtube.com/watch?v=GurbaZzwYvU">presentación fantástica por DenshiVideo en YouTube (inglés)</a> me convenció a investigar un poco más.</p>
<p>Según mis observaciones, hay dos principales servidores para XMPP:</p>
<ul>
<li><a href="https://www.ejabberd.im/">ejabberd</a>: Un servidor escrito en Erlang, lo que lo hace increíblemente escalable.</li>
<li><a href="https://prosody.im/">Prosody</a>:  Un servidor escritoire en Lua, buscando simplicidad y ser fácil de instalar.</li>
</ul>
<p>Para mi uso propio, ejabberd se sentía un poco abrumador. Siendo un usuario de <a href="https://neovim.io">NeoVim</a> estoy <em>mucho</em> mas familiarizado con Lua. Así que empecé a leer como instalar un servidor de Prosody. Esta lectura hizo que encontrara a <a href="https://snikket.org">Snikket</a></p>
<h3 id="snikket">Snikket</h3>
<p>Empezado por uno de los desarrolladores de Prosody, <a href="https://snikket.org">Snikket</a> es una solución todo-en-uno para alojar tu propio servidor XMPP. Está enfocada en grupos medianos a pequeños. Es liviana, eficiente y súper fácil de alojar por ti mismo (o puedes pedir que Snikket lo aloje por ti). Algunas de sus características:</p>
<ul>
<li>Encriptación de extremo a extremo usando <a href="https://webencrypt.org/omemo/">OMEMO</a>.</li>
<li>Introducción e instrucciones para nuevos usuarios.</li>
<li>Puedes ingresar solo con invitación. Debes generar links de invitación para tus usuarios.</li>
<li>Aplicaciones dedicadas para iOS y Android desarrolladas para soportar las funciones de Snikket.</li>
<li>Cambios en la configuración que hacen que la plataforma sea más fácil de usar para tus usuarios.</li>
</ul>
<p>Además de algunas opciones pequeñas (como números de puertos), Snikket no te deja acceder a casi ninguna configuración de Prosody. Esto es, en mi opinión, algo bueno. Al no abrumar con configuraciones y al dar configuración por defecto decente, es más sencillo que alguien quiera alojar su propia instancia. Entre menos tengas que <em>pensar</em>, mejor. Alojar en tu instancia solo requiere:</p>
<ul>
<li>Conseguir un dominio</li>
<li>Apuntarlo a tu VPS</li>
<li>Crear un archivo de configuración, solamente contiene tu dominio y e-mail del administrador.</li>
<li>Instalar dependencias (Docker, Docker Compose, etc).</li>
<li>Descargar su archivo docker-compose.</li>
<li><code>docker compose up -d</code></li>
</ul>
<p>Y eso es todo! Snikket se encargará incluso de generar los certificados SSL (usando Certbot).</p>
<p>Actualmente estoy alojando una instancia de Snikket junto a la instancia de Conduit que mencioné anteriormente. En ambas me he unido a algunos grupos/canales públicos. Snikket no usa casi nada de recursos a comparación de Conduit!</p>
<h2 id="conclusión">Conclusión</h2>
<p>En mi opinión, Snikket debe ser <em>el</em> ejemplo para servidores federados cuyo objetivo sea ser descentralizados. Entre más esfuerzo y recursos necesite un individuo para alojar un servidor, es menos probable que aparezcan servidores pequeños. Entre más complicado el software, como Matrix o incluso Mastodon, más se siente como que solo vale la pena el esfuerzo si esperas que tu instancia sea relativamente grande. Y es más probable que usuarios terminen inscribiéndose en instancias más grandes. Snikket te dice que solo debes tomarte una o dos horas configurando tu servidor y de repente tu y tus amigos tendrán acceso a un servicio seguro de mensajería instantánea que, además, está conectado a una red descentralizadas de usuarios y canales en XMPP.</p> </section> </article>  <footer data-astro-cid-gjtny2mx> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var l=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let a of e)if(a.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=l;window.dispatchEvent(new Event("astro:visible"));})();;(()=>{var b=Object.defineProperty;var f=(c,o,i)=>o in c?b(c,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[o]=i;var l=(c,o,i)=>(f(c,typeof o!="symbol"?o+"":o,i),i);var p;{let c={0:t=>m(t),1:t=>i(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(i(t)),5:t=>new Set(i(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[e,r]=t;return e in c?c[e](r):void 0},i=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([e,r])=>[e,o(r)]));customElements.get("astro-island")||customElements.define("astro-island",(p=class extends HTMLElement{constructor(){super(...arguments);l(this,"Component");l(this,"hydrator");l(this,"hydrate",async()=>{var d;if(!this.hydrator||!this.isConnected)return;let e=(d=this.parentElement)==null?void 0:d.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let r=this.querySelectorAll("astro-slot"),a={},h=this.querySelectorAll("template[data-astro-template]");for(let n of h){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("data-astro-template")||"default"]=n.innerHTML,n.remove())}for(let n of r){let s=n.closest(this.tagName);s!=null&&s.isSameNode(this)&&(a[n.getAttribute("name")||"default"]=n.innerHTML)}let u;try{u=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(n){let s=this.getAttribute("component-url")||"<unknown>",y=this.getAttribute("component-export");throw y&&(s+=` (export ${y})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),n),n}await this.hydrator(this)(this.Component,u,a,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});l(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),r.disconnect(),this.childrenConnectedCallback()},r=new MutationObserver(()=>{var a;((a=this.lastChild)==null?void 0:a.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});r.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}start(){let e=JSON.parse(this.getAttribute("opts")),r=this.getAttribute("client");if(Astro[r]===void 0){window.addEventListener(`astro:${r}`,()=>this.start(),{once:!0});return}Astro[r](async()=>{let a=this.getAttribute("renderer-url"),[h,{default:u}]=await Promise.all([import(this.getAttribute("component-url")),a?import(a):()=>()=>{}]),d=this.getAttribute("component-export")||"default";if(!d.includes("."))this.Component=h[d];else{this.Component=h;for(let n of d.split("."))this.Component=this.Component[n]}return this.hydrator=u,this.hydrate},e,this)}attributeChangedCallback(){this.hydrate()}},l(p,"observedAttributes",["props"]),p))}})();</script><astro-island uid="Z1eACFm" component-url="/_astro/ShareButtons.HxTbPdOb.js" component-export="default" renderer-url="/_astro/client.bWR2MAd2.js" props="{&quot;host&quot;:[7,&quot;https://pablo.berganza.dev/&quot;],&quot;blog&quot;:[0,{&quot;Content&quot;:[0,null],&quot;compiledContent&quot;:[0,null],&quot;default&quot;:[0,null],&quot;file&quot;:[0,&quot;/home/runner/work/pablo.berganza.dev-astro/pablo.berganza.dev-astro/src/posts/es/the-fediverse-but-for-instant-messaging.md&quot;],&quot;frontmatter&quot;:[0,{&quot;title&quot;:[0,&quot;El Fediverso, pero para mensajería instantánea&quot;],&quot;description&quot;:[0,&quot;Matrix, XMPP y Snikket&quot;],&quot;published&quot;:[0,true],&quot;created&quot;:[0,&quot;2024-02-06&quot;],&quot;imgext&quot;:[0,&quot;jpg&quot;],&quot;fediId&quot;:[0,&quot;111887039324700917&quot;],&quot;image&quot;:[0,{&quot;width&quot;:[0,3024],&quot;height&quot;:[0,1701]}],&quot;tags&quot;:[1,[[0,&quot;fediverse&quot;],[0,&quot;matrix&quot;],[0,&quot;selfhosting&quot;],[0,&quot;xmpp&quot;]]]}],&quot;getHeadings&quot;:[0,null],&quot;rawContent&quot;:[0,null],&quot;url&quot;:[0],&quot;lang&quot;:[0,&quot;es&quot;],&quot;slug&quot;:[0,&quot;the-fediverse-but-for-instant-messaging&quot;],&quot;source&quot;:[0,&quot;---\ntitle: &#39;El Fediverso, pero para mensajería instantánea&#39;\ndescription: &#39;Matrix, XMPP y Snikket&#39;\npublished: true\ncreated: &#39;2024-02-06&#39;\nimgext: jpg\nfediId: &#39;111887039324700917&#39;\nimage:\n  width: 3024\n  height: 1701\ntags:\n  - fediverse\n  - matrix\n  - selfhosting\n  - xmpp\n---\n\nÚltimamente he sentido un poco de felicidad al ver como, por lo menos parte del mundo, está tomando interés en las tecnologías federadas. Y al ver como la cantidad de personas uniéndose a éstos servicios sigue creciendo. El Fediverso, principalmente por Mastodon, tiene 10 millones de usuarios y 1 millón de usuarios activos cada mes, según [FediDB](https://fedidb.org), al momento de escribir este artículo.\n\nMi cuenta en la instancia que estoy manteniendo, [@pablo@sivar.cafe](https://sivar.cafe/@pablo), se está convirtiendo rápidamente en mi plataforma principal para microblogging. Y he conocido personas increíbles gracias a ello!\n\nPero microblogging no es el único uso para el que existen plataformas federadas. E-mail siento el servicio más grande para comunicación uno-a-uno y uno-a-muchos.\n\nPara comunicación más instantánea, algunas alternativas a Mastodon, como  [Misskey](https://misskey-hub.net/en/)  y sus forks, implementaron funciones para mensajería instantánea. Te permitía hablar con gente dentro o fuera de tu servidor. Pero en este caso siempre sentí que la funcionalidad agregaba complejidad y peso para quienes mantienen el proyecto, ya sea alojando una instancia, o manteniendo el código del proyecto en si. Versiones más recientes de Misskey removieron la funcionalidad de chat, aunque no estoy seguro del motivo. Y forks más recientes de Misskey tampoco ofrecen esta funcionalidad, incluyendo el fork más activamente mantenido por ahora:  [Sharkey](https://joinsharkey.org).\n\nEntonces, ¿hay alguna otra alternative para mensajería instantánea que puedas alojar tu mismo y sea federada?\n\n## Matrix\n\n[Matrix](https://matrix.org/) es un protocolo abierto que describe una forma para tener comunicación segura e instantánea de forma descentralizada. La instancia principal siendo matrix.org, la cual también tiene la mayor cantidad de usuarios.\n\nMatrix provee a sus usuarios con:\n- Cifrado de extremo a extremo (E2EE) en chats 1-a-1 y grupos.\n- Grupos/cuartos públicos y privados.\n- “Espacios” públicos y privado, siendo estos una forma de organizar varios cuartos dentro de una comunidad.\nEntre otras cosas que probablemente desconozco todavía.\n\nEl server de referencia es [Synapse](https://github.com/element-hq/synapse). Está escrito en Python, lo cual ha traído críticas debido a consumir muchos recursos. Pero es el único servidor que implementa toda la especificación de Matrix. [Dendrite](https://github.com/matrix-org/dendrite) es otra implementación, descrito como una “segunda generación” para un servidor de Matrix, escrito en Go. El objetivo era resolver el problema de consumo de recursos. Pero entiendo que el esfuerzo de los desarrolladoras ha cambiado a enfocarse en optimizar Synapse y dejando a Dendrite para casos de uso más específicos. (Si mi suposición es incorrecta, ¡apreciaría una correción!).\n\nAunque es un protocolo abierto, las implementaciones que describí son posesión de Element: una organización con ánimo de lucro. Y [han realizado cambios para llegar a ser rentables](https://element.io/blog/element-to-adopt-agplv3/).\n\nHe estado experimentando con una implementación de terceros llamada [Conduit](https://conduit.rs). Está escrita en Rust y es increíblemente sencilla de alojar en tu servidor (es un solo binario). Las únicas quejas que he tenido son:\n- Los registros pueden ser solo completamente activados, completamente activados, o necesitando un token para registrarse que es configurado al iniciar el servidor. No existen tokens de un solo uso o links para invitar usuarios.\n- No soporta SSO (aunque hay un PR abierto con una implementación). Esto es algo que yo quería para darle acceso exclusivo a los usuarios de mi [instancia en Mastodon](https://sivar.cafe).\n- Usa RocksDB por defecto, para el que no tengo experiencia en absoluta. Y entiendo que no es tan manipulable e inspeccionadle como una base de datos SQL. Aunque, ¿entiendo que ayuda mucho a que uso pocos recursos?\n\nDe todos modos tengo esperanzas en Conduit y mantendré una instancia pequeña por ahora!\n\n## XMPP\n\nMientras leía sobre Matrix, encontré personas hablando acerca de XMPP como una alternativa para una plataforma federada de mensajería instantánea. Personalmente, al principio lo tomé un poco de broma. XMPP era es protocolo viejo del que habían escuchado cuando era un estudiante. Recuerdo usar [Pidgin](https://pidgin.im/) para configurar las múltiples cuentas de mensajería que tenía en aquel entonces.\n\nPero claro. XMPP fue, probablemente, _el_ protocolo original de mensajería instantánea federada. Y, según entiendo, todavía usado por los jugadores más grandes (aun que de una forma privada). Aunque definitivamente la comunidad es mucho más pequeña, y hay mucho menos Hype, que en Matrix; la comunidad que existe es muy apasionada y hay un esfuerzo continuo para hacer que el protocolo XMPP sea más y más accesible.\n\nEsta [presentación fantástica por DenshiVideo en YouTube \\(inglés\\)](https://www.youtube.com/watch?v=GurbaZzwYvU) me convenció a investigar un poco más.\n\nSegún mis observaciones, hay dos principales servidores para XMPP:\n- [ejabberd](https://www.ejabberd.im/): Un servidor escrito en Erlang, lo que lo hace increíblemente escalable.\n- [Prosody](https://prosody.im/):  Un servidor escritoire en Lua, buscando simplicidad y ser fácil de instalar.\n\nPara mi uso propio, ejabberd se sentía un poco abrumador. Siendo un usuario de [NeoVim](https://neovim.io) estoy _mucho_ mas familiarizado con Lua. Así que empecé a leer como instalar un servidor de Prosody. Esta lectura hizo que encontrara a [Snikket](https://snikket.org)\n\n### Snikket\n\nEmpezado por uno de los desarrolladores de Prosody, [Snikket](https://snikket.org) es una solución todo-en-uno para alojar tu propio servidor XMPP. Está enfocada en grupos medianos a pequeños. Es liviana, eficiente y súper fácil de alojar por ti mismo (o puedes pedir que Snikket lo aloje por ti). Algunas de sus características:\n- Encriptación de extremo a extremo usando [OMEMO](https://webencrypt.org/omemo/).\n- Introducción e instrucciones para nuevos usuarios.\n- Puedes ingresar solo con invitación. Debes generar links de invitación para tus usuarios.\n- Aplicaciones dedicadas para iOS y Android desarrolladas para soportar las funciones de Snikket.\n- Cambios en la configuración que hacen que la plataforma sea más fácil de usar para tus usuarios.\n\nAdemás de algunas opciones pequeñas (como números de puertos), Snikket no te deja acceder a casi ninguna configuración de Prosody. Esto es, en mi opinión, algo bueno. Al no abrumar con configuraciones y al dar configuración por defecto decente, es más sencillo que alguien quiera alojar su propia instancia. Entre menos tengas que _pensar_, mejor. Alojar en tu instancia solo requiere:\n- Conseguir un dominio\n- Apuntarlo a tu VPS\n- Crear un archivo de configuración, solamente contiene tu dominio y e-mail del administrador.\n- Instalar dependencias (Docker, Docker Compose, etc).\n- Descargar su archivo docker-compose.\n- `docker compose up -d`\n\nY eso es todo! Snikket se encargará incluso de generar los certificados SSL (usando Certbot).\n\nActualmente estoy alojando una instancia de Snikket junto a la instancia de Conduit que mencioné anteriormente. En ambas me he unido a algunos grupos/canales públicos. Snikket no usa casi nada de recursos a comparación de Conduit!\n\n## Conclusión\n\nEn mi opinión, Snikket debe ser _el_ ejemplo para servidores federados cuyo objetivo sea ser descentralizados. Entre más esfuerzo y recursos necesite un individuo para alojar un servidor, es menos probable que aparezcan servidores pequeños. Entre más complicado el software, como Matrix o incluso Mastodon, más se siente como que solo vale la pena el esfuerzo si esperas que tu instancia sea relativamente grande. Y es más probable que usuarios terminen inscribiéndose en instancias más grandes. Snikket te dice que solo debes tomarte una o dos horas configurando tu servidor y de repente tu y tus amigos tendrán acceso a un servicio seguro de mensajería instantánea que, además, está conectado a una red descentralizadas de usuarios y canales en XMPP.\n&quot;]}],&quot;lang&quot;:[0,&quot;es&quot;],&quot;data-astro-cid-gjtny2mx&quot;:[0,true]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ShareButtons&quot;,&quot;value&quot;:true}" await-children=""><ul class="share-buttons svelte-utryih"><li class="svelte-utryih">Compártelo:</li> <li class="svelte-utryih"><a href="https://www.facebook.com/sharer/sharer.php?u=https://pablo.berganza.dev/es/the-fediverse-but-for-instant-messaging&amp;quote=Matrix, XMPP y Snikket" target="_blank" title="Share on Facebook" rel="noopener noreferrer"><svg aria-hidden="true" title="" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"></path></svg> <span class="sr-only svelte-12xlsax">Share on Facebook</span> </a></li> <li class="svelte-utryih"><a href="https://twitter.com/intent/tweet?source=https://pablo.berganza.dev/es/the-fediverse-but-for-instant-messaging&amp;text=Matrix, XMPP y Snikket:%20https://pablo.berganza.dev/es/the-fediverse-but-for-instant-messaging&amp;via=Pablo_ABC" target="_blank" title="Tweet" rel="noopener noreferrer"><svg aria-hidden="true" title="" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM351.3 199.3v0c0 86.7-66 186.6-186.6 186.6c-37.2 0-71.7-10.8-100.7-29.4c5.3 .6 10.4 .8 15.8 .8c30.7 0 58.9-10.4 81.4-28c-28.8-.6-53-19.5-61.3-45.5c10.1 1.5 19.2 1.5 29.6-1.2c-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3c-9-6-16.4-14.1-21.5-23.6s-7.8-20.2-7.7-31c0-12.2 3.2-23.4 8.9-33.1c32.3 39.8 80.8 65.8 135.2 68.6c-9.3-44.5 24-80.6 64-80.6c18.9 0 35.9 7.9 47.9 20.7c14.8-2.8 29-8.3 41.6-15.8c-4.9 15.2-15.2 28-28.8 36.1c13.2-1.4 26-5.1 37.8-10.2c-8.9 13.1-20.1 24.7-32.9 34c.2 2.8 .2 5.7 .2 8.5z"></path></svg> <span class="sr-only svelte-12xlsax">Tweet</span> </a></li> <li class="svelte-utryih"><a href="https://getpocket.com/save?url=https://pablo.berganza.dev/es/the-fediverse-but-for-instant-messaging&amp;title=El Fediverso, pero para mensajería instantánea" target="_blank" title="Add to Pocket" rel="noopener noreferrer"><svg aria-hidden="true" title="" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M407.6 64h-367C18.5 64 0 82.5 0 104.6v135.2C0 364.5 99.7 464 224.2 464c124 0 223.8-99.5 223.8-224.2V104.6c0-22.4-17.7-40.6-40.4-40.6zm-162 268.5c-12.4 11.8-31.4 11.1-42.4 0C89.5 223.6 88.3 227.4 88.3 209.3c0-16.9 13.8-30.7 30.7-30.7 17 0 16.1 3.8 105.2 89.3 90.6-86.9 88.6-89.3 105.5-89.3 16.9 0 30.7 13.8 30.7 30.7 0 17.8-2.9 15.7-114.8 123.2z"></path></svg> <span class="sr-only svelte-12xlsax">Add to Pocket</span> </a></li> <li class="svelte-utryih"><a href="http://www.reddit.com/submit?url=https://pablo.berganza.dev/es/the-fediverse-but-for-instant-messaging&amp;title=El Fediverso, pero para mensajería instantánea" target="_blank" title="Submit to Reddit" rel="noopener noreferrer"><svg aria-hidden="true" title="" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M283.2 345.5c2.7 2.7 2.7 6.8 0 9.2-24.5 24.5-93.8 24.6-118.4 0-2.7-2.4-2.7-6.5 0-9.2 2.4-2.4 6.5-2.4 8.9 0 18.7 19.2 81 19.6 100.5 0 2.4-2.3 6.6-2.3 9 0zm-91.3-53.8c0-14.9-11.9-26.8-26.5-26.8-14.9 0-26.8 11.9-26.8 26.8 0 14.6 11.9 26.5 26.8 26.5 14.6 0 26.5-11.9 26.5-26.5zm90.7-26.8c-14.6 0-26.5 11.9-26.5 26.8 0 14.6 11.9 26.5 26.5 26.5 14.9 0 26.8-11.9 26.8-26.5 0-14.9-11.9-26.8-26.8-26.8zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-99.7 140.6c-10.1 0-19 4.2-25.6 10.7-24.1-16.7-56.5-27.4-92.5-28.6l18.7-84.2 59.5 13.4c0 14.6 11.9 26.5 26.5 26.5 14.9 0 26.8-12.2 26.8-26.8 0-14.6-11.9-26.8-26.8-26.8-10.4 0-19.3 6.2-23.8 14.9l-65.7-14.6c-3.3-.9-6.5 1.5-7.4 4.8l-20.5 92.8c-35.7 1.5-67.8 12.2-91.9 28.9-6.5-6.8-15.8-11-25.9-11-37.5 0-49.8 50.4-15.5 67.5-1.2 5.4-1.8 11-1.8 16.7 0 56.5 63.7 102.3 141.9 102.3 78.5 0 142.2-45.8 142.2-102.3 0-5.7-.6-11.6-2.1-17 33.6-17.2 21.2-67.2-16.1-67.2z"></path></svg> <span class="sr-only svelte-12xlsax">Submit to Reddit</span> </a></li> <li class="svelte-utryih"><a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://pablo.berganza.dev/es/the-fediverse-but-for-instant-messaging&amp;title=El Fediverso, pero para mensajería instantánea&amp;summary=Matrix, XMPP y Snikket&amp;source=https://pablo.berganza.dev/es/the-fediverse-but-for-instant-messaging" target="_blank" title="Share on LinkedIn" rel="noopener noreferrer"><svg aria-hidden="true" title="" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg> <span class="sr-only svelte-12xlsax">Share on LinkedIn</span> </a></li> <li class="svelte-utryih"><share-on-fedi placement="top" aria-label="Share on Mastodon" class="svelte-utryih"><svg aria-hidden="true" title="Share on Mastodon" class="fa-svelte  svelte-1d15yci" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"></path></svg></share-on-fedi></li> </ul><!--astro:end--></astro-island>  <fedi-comments postId="111887039324700917" instance="sivar.cafe" data-astro-cid-gjtny2mx> <span slot="instructions" data-astro-cid-gjtny2mx>
Agrega tu comentario respondiendo con tu cuenta en el
                  Fediverso al siguiente post:
</span> <span slot="view-post-text" data-astro-cid-gjtny2mx>Ver post</span> <span slot="view-on-text" data-astro-cid-gjtny2mx>Ver en</span> </fedi-comments>  </footer> </main>  </body> </html>