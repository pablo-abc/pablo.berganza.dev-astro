---
import PostLayout from '../../layouts/PostLayout.astro';
export async function getStaticPaths() {
  const posts = Astro.fetchContent('../../posts/en/*.md');
  const slugs = posts.map((post) => post.slug);

  return slugs.map(slug => {
    return {
      params: { slug },
      props: {
        post: posts
          .find(post => {
            post.lang = 'en';
            return post.slug === slug
          })
      },
    }
  });
}

const { slug } = Astro.request.params;
const { post } = Astro.props;
---

<PostLayout content={post}>
  {post.content.html}
</PostLayout>
